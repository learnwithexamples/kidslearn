<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometry Practice - KidsLearn</title>
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/fact-sheet.css">
    <style>
        .shape-display {
            width: 100%;
            max-width: 400px;
            height: 300px;
            margin: 20px auto;
            border: 2px solid #ddd;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9f9f9;
            position: relative;
        }
        
        .shape-canvas {
            width: 100%;
            height: 100%;
        }
        
        .shape-label {
            position: absolute;
            font-size: 0.9em;
            font-weight: bold;
            color: #333;
        }
        
        .question-info {
            text-align: center;
            font-size: 1.2em;
            margin: 15px 0;
        }
        
        .formula-hint {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 4px;
            font-size: 0.95em;
        }
        
        .answer-section {
            max-width: 500px;
            margin: 20px auto;
        }
        
        .answer-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
        }
        
        .answer-row label {
            min-width: 120px;
            text-align: right;
            font-weight: bold;
        }
        
        .answer-row input {
            width: 150px;
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
        }
        
        .answer-row .unit {
            min-width: 60px;
            color: #666;
        }
        
        .topic-tabs {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .topic-tab {
            padding: 10px 20px;
            border: 2px solid #ddd;
            border-radius: 25px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
        }
        
        .topic-tab:hover {
            border-color: #667eea;
            background: #f5f7ff;
        }
        
        .topic-tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .shapes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .shape-card {
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .shape-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }
        
        .shape-card.selected {
            border-color: #667eea;
            background: #f5f7ff;
        }
        
        .shape-icon {
            font-size: 3em;
            margin: 10px 0;
        }
        
        .reference-section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .formula-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .formula-card {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .formula-card h4 {
            margin-top: 0;
            color: #667eea;
        }
        
        .formula-card code {
            background: white;
            padding: 5px 10px;
            border-radius: 4px;
            display: block;
            margin: 5px 0;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìê Geometry Practice</h1>
            <p class="subtitle">Learn about shapes and measurements</p>
            <a href="math.html" class="back-link">‚Üê Back to Math Topics</a>
        </header>

        <!-- Topic Selection -->
        <div class="topic-tabs">
            <button class="topic-tab active" data-topic="practice">üéØ Practice Problems</button>
            <button class="topic-tab" data-topic="reference">üìö Formulas Reference</button>
            <button class="topic-tab" data-topic="identify">üîç Identify Shapes</button>
        </div>

        <!-- Practice Section -->
        <div id="practice-section">
            <div class="controls-panel">
                <div class="control-section">
                    <h3>Problem Type</h3>
                    <div class="shapes-grid">
                        <div class="shape-card active" data-type="area">
                            <div class="shape-icon">üìè</div>
                            <h4>Area</h4>
                            <p>Find the area of shapes</p>
                        </div>
                        <div class="shape-card" data-type="perimeter">
                            <div class="shape-icon">üìê</div>
                            <h4>Perimeter</h4>
                            <p>Calculate perimeters</p>
                        </div>
                        <div class="shape-card" data-type="volume">
                            <div class="shape-icon">üì¶</div>
                            <h4>Volume</h4>
                            <p>3D shape volumes</p>
                        </div>
                        <div class="shape-card" data-type="angles">
                            <div class="shape-icon">üìê</div>
                            <h4>Angles</h4>
                            <p>Find missing angles</p>
                        </div>
                    </div>
                </div>

                <div class="control-section">
                    <h3>Difficulty</h3>
                    <div class="button-group">
                        <button class="operation-btn" data-difficulty="easy">Easy</button>
                        <button class="operation-btn active" data-difficulty="medium">Medium</button>
                        <button class="operation-btn" data-difficulty="hard">Hard</button>
                    </div>
                </div>

                <div class="control-section">
                    <button id="generate-btn" class="primary-btn">üé≤ Generate New Problem</button>
                    <button id="show-formula-btn" class="secondary-btn">üí° Show Formula</button>
                </div>
            </div>

            <div id="formula-display" class="formula-hint" style="display: none; max-width: 600px; margin: 20px auto;">
                <strong>Formula:</strong> <span id="formula-text"></span>
            </div>

            <div class="quiz-section">
                <div class="question-info" id="problem-description">
                    Select options above and click "Generate New Problem"
                </div>

                <div class="shape-display">
                    <canvas id="shape-canvas" class="shape-canvas"></canvas>
                </div>

                <div class="answer-section">
                    <div id="answer-inputs"></div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button id="check-answer-btn" class="primary-btn" style="display: none;">‚úì Check Answer</button>
                    </div>

                    <div id="feedback" class="feedback-message" style="margin-top: 15px;"></div>
                </div>

                <div class="quiz-header" style="margin-top: 30px;">
                    <div class="timer-display">
                        <span id="timer">Score: <span id="score">0</span>/<span id="total">0</span></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reference Section -->
        <div id="reference-section" style="display: none;">
            <div class="reference-section">
                <h2>üìê 2D Shapes - Area & Perimeter</h2>
                
                <div class="formula-grid">
                    <div class="formula-card">
                        <h4>Square</h4>
                        <code>Area = s¬≤</code>
                        <code>Perimeter = 4s</code>
                        <p><small>s = side length</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Rectangle</h4>
                        <code>Area = l √ó w</code>
                        <code>Perimeter = 2(l + w)</code>
                        <p><small>l = length, w = width</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Triangle</h4>
                        <code>Area = ¬Ω √ó b √ó h</code>
                        <code>Perimeter = a + b + c</code>
                        <p><small>b = base, h = height, a,b,c = sides</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Circle</h4>
                        <code>Area = œÄr¬≤</code>
                        <code>Circumference = 2œÄr</code>
                        <p><small>r = radius, œÄ ‚âà 3.14</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Parallelogram</h4>
                        <code>Area = b √ó h</code>
                        <code>Perimeter = 2(a + b)</code>
                        <p><small>b = base, h = height</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Trapezoid</h4>
                        <code>Area = ¬Ω(b‚ÇÅ + b‚ÇÇ) √ó h</code>
                        <code>Perimeter = sum of all sides</code>
                        <p><small>b‚ÇÅ, b‚ÇÇ = parallel sides, h = height</small></p>
                    </div>
                </div>

                <h2 style="margin-top: 40px;">üì¶ 3D Shapes - Volume & Surface Area</h2>
                
                <div class="formula-grid">
                    <div class="formula-card">
                        <h4>Cube</h4>
                        <code>Volume = s¬≥</code>
                        <code>Surface Area = 6s¬≤</code>
                        <p><small>s = side length</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Rectangular Prism</h4>
                        <code>Volume = l √ó w √ó h</code>
                        <code>Surface Area = 2(lw + lh + wh)</code>
                        <p><small>l = length, w = width, h = height</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Cylinder</h4>
                        <code>Volume = œÄr¬≤h</code>
                        <code>Surface Area = 2œÄr¬≤ + 2œÄrh</code>
                        <p><small>r = radius, h = height</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Sphere</h4>
                        <code>Volume = (4/3)œÄr¬≥</code>
                        <code>Surface Area = 4œÄr¬≤</code>
                        <p><small>r = radius</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Cone</h4>
                        <code>Volume = (1/3)œÄr¬≤h</code>
                        <code>Surface Area = œÄr¬≤ + œÄrl</code>
                        <p><small>r = radius, h = height, l = slant height</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Pyramid</h4>
                        <code>Volume = (1/3) √ó Base Area √ó h</code>
                        <p><small>h = height</small></p>
                    </div>
                </div>

                <h2 style="margin-top: 40px;">üìê Angle Rules</h2>
                
                <div class="formula-grid">
                    <div class="formula-card">
                        <h4>Triangle Angles</h4>
                        <code>Sum = 180¬∞</code>
                        <p><small>All angles in a triangle add to 180¬∞</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Straight Line</h4>
                        <code>Sum = 180¬∞</code>
                        <p><small>Angles on a straight line add to 180¬∞</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Around a Point</h4>
                        <code>Sum = 360¬∞</code>
                        <p><small>Angles around a point add to 360¬∞</small></p>
                    </div>

                    <div class="formula-card">
                        <h4>Quadrilateral</h4>
                        <code>Sum = 360¬∞</code>
                        <p><small>All angles in a quadrilateral add to 360¬∞</small></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Identify Shapes Section -->
        <div id="identify-section" style="display: none;">
            <div class="reference-section">
                <h2>üîç Shape Identification Practice</h2>
                <p style="text-align: center; font-size: 1.1em; margin-bottom: 30px;">
                    Look at the shape and select its name
                </p>

                <div class="shape-display" style="max-width: 500px; height: 400px;">
                    <canvas id="identify-canvas" class="shape-canvas"></canvas>
                </div>

                <div class="question-info" id="identify-question">
                    What shape is this?
                </div>

                <div class="mode-selection" style="max-width: 600px; margin: 20px auto;">
                    <div id="shape-options"></div>
                </div>

                <div id="identify-feedback" class="feedback-message"></div>

                <div style="text-align: center; margin-top: 20px;">
                    <button id="next-shape-btn" class="primary-btn">Next Shape ‚Üí</button>
                </div>

                <div class="quiz-header" style="margin-top: 30px;">
                    <div class="timer-display">
                        <span>Identification Score: <span id="identify-score">0</span>/<span id="identify-total">0</span></span>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>Master geometry! üìê</p>
        </footer>
    </div>

    <script src="../scripts/geometry.js"></script>
</body>
</html>
